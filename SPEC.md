# BodyGuard - 人体检测监控系统

## 1. 项目概述

- **项目名称**: BodyGuard
- **项目类型**: Web应用 (单页应用)
- **核心功能**: 基于深度学习的人体检测系统，实时监控画面中是否有人体出现，检测到人体时触发报警
- **目标用户**: 需要安防监控的商业/家庭用户

## 2. UI/UX 规格

### 布局结构

```
+------------------------------------------+
|              Header (标题)                |
+------------------------------------------+
|           模型加载状态                    |
+------------------------------------------+
|                                          |
|           视频监控区域                    |
|         (检测框/置信度/人数统计)          |
|                                          |
+------------------------------------------+
|           控制面板                        |
|  [摄像头选择] [置信度阈值] [检测模式]    |
+------------------------------------------+
|           报警设置                        |
|  [声音报警] [浏览器通知] [邮件通知]      |
+------------------------------------------+
|           检测记录                        |
|     (检测时间/人数/截图)                 |
+------------------------------------------+
```

### 视觉设计

**色彩方案 - 科技安防主题**
- 背景色: #0d1117 (深空黑)
- 卡片背景: #161b22 (炭灰)
- 主色调: #00d4aa (科技青)
- 强调色: #58a6ff (星空蓝)
- 文字主色: #e6edf3
- 文字次色: #8b949e
- 成功色: #3fb950
- 警告色: #f85149
- 边框色: #30363d

**字体**
- 标题: "Noto Sans SC", sans-serif
- 正文: "Noto Sans SC", sans-serif
- 数字/代码: "JetBrains Mono", monospace

### 组件规格

**1. 模型加载状态**
- 显示模型加载进度
- 加载完成后显示就绪状态

**2. 视频监控区域**
- 16:9 比例显示区
- 实时绘制人体检测框 (绿色边框)
- 显示置信度百分比
- 实时人数统计
- 检测状态指示灯

**3. 控制面板**
- 摄像头选择下拉框
- 置信度阈值滑块 (默认50%)
- 检测模式切换 (实时/截图)

**4. 报警设置**
- 声音报警开关
- 浏览器通知开关
- 邮件通知设置 (SMTP配置)

**5. 检测记录**
- 检测事件列表
- 显示时间、人数、截图

## 3. 功能规格

### 核心功能

**F1: 深度学习人体检测**
- 使用 TensorFlow.js + COCO-SSD 模型
- 支持实时视频流检测
- 识别人体类别 (person)
- 目标检测框绘制
- 置信度显示

**F2: 性能要求**
- 响应延迟 < 500ms
- 帧率 ≥ 24fps
- 置信度阈值可调

**F3: 报警系统**
- 声音报警 (Web Audio API)
- 浏览器通知 (Notification API)
- 邮件报警 (SMTP.js)

**F4: 检测记录**
- 自动保存检测截图
- 记录检测时间
- 显示检测人数

### 边缘情况处理

- 无摄像头: 显示友好提示
- 模型加载失败: 提示重试
- 检测失败: 记录日志

## 4. 技术实现

- TensorFlow.js (COCO-SSD模型)
- MediaDevices API
- Web Audio API
- Notification API
- Canvas API

## 5. 验收标准

- [ ] 模型成功加载
- [ ] 实时人体检测正常工作
- [ ] 检测框正确绘制
- [ ] 置信度正确显示
- [ ] 人数统计准确
- [ ] 声音报警触发
- [ ] 浏览器通知发送
- [ ] 邮件通知发送
- [ ] 检测记录保存
